[
  {
    "description": "application/json error response",
    "response": {
      "status": 401,
      "headers": {
        "Content-Type": "application/json"
      },
      "body": "{\"Code\":\"TokenNotFound\"}"
    },
    "expect": {
      "type": "error",
      "reason": "received error response from credentials endpoint: 401 Unauthorized",
      "metadata": {
        "Code": "TokenNotFound"
      }
    }
  },
  {
    "description": "text/plain error response",
    "response": {
      "status": 429,
      "headers": {
        "Content-Type": "text/plain"
      },
      "body": "you have made too many requests"
    },
    "expect": {
      "type": "error",
      "reason": "received error response from credentials endpoint: 429 Too Many Requests",
      "metadata": {}
    }
  },
  {
    "description": "malformed success response, missing field",
    "response": {
      "status": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "body": "{\"SecretAccessKey\":\"bar\",\"Token\":\"baz\",\"Expiration\":\"2023-06-30T00:00:00.000Z\"}"
    },
    "expect": {
      "type": "error",
      "reason": "received malformed response from credentials endpoint: missing required field AccessKeyId",
      "metadata": {}
    }
  },
  {
    "description": "malformed success response, invalid field",
    "response": {
      "status": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "body": "{\"AccessKeyId\":\"foo\",\"SecretAccessKey\":\"bar\",\"Token\":\"baz\",\"Expiration\":\"never\"}"
    },
    "expect": {
      "type": "error",
      "reason": "received malformed response from credentials endpoint: invalid field Expiration",
      "metadata": {}
    }
  },
  {
    "description": "required fields only",
    "response": {
      "status": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "body": "{\"AccessKeyId\":\"foo\",\"SecretAccessKey\":\"bar\",\"Token\":\"baz\",\"Expiration\":\"2023-06-30T00:00:00.000Z\"}"
    },
    "expect": {
      "type": "success",
      "credentials": {
        "access_key_id": "foo",
        "secret_access_key": "bar",
        "session_token": "baz",
        "expiration": "2023-06-30T00:00:00.000Z"
      }
    }
  },
  {
    "description": "full response, extra field",
    "response": {
      "status": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "body": "{\"AccessKeyId\":\"foo\",\"SecretAccessKey\":\"bar\",\"Token\":\"baz\",\"AccountId\":\"qux\",\"Expiration\":\"2023-06-30T00:00:00.000Z\"}"
    },
    "expect": {
      "type": "success",
      "credentials": {
        "access_key_id": "foo",
        "secret_access_key": "bar",
        "session_token": "baz",
        "account_id": "qux",
        "expiration": "2023-06-30T00:00:00.000Z",
        "foo": "bar"
      }
    }
  }
]